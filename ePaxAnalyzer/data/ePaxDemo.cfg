process Analysis  =  {
      #keep the logging output to a nice level
      include "FWCore/MessageLogger/data/MessageLogger.cfi"
      # XML ideal geometry description
      include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
      # Calo geometry service model
      include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
      # Calo topology service model
      include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
      
      # write my own debug output into default.log
      replace MessageLogger.destinations = {
					"warnings"
				       ,"errors"
				       ,"infos"
				       ,"cout"
				       ,"cerr"
				       ,"default"
				       }
      replace MessageLogger.categories   = { "MyAnalysis", "FwkJob", "FwkReport", "Root_NoDictionary" } 
      replace MessageLogger.debugModules   = { "demo" }
      replace MessageLogger.default = 
      {
                                       untracked string threshold = "DEBUG"
                                       untracked PSet INFO            = { untracked int32 limit = 0 }
                                       untracked PSet DEBUG           = { untracked int32 limit = 0 }
			               untracked PSet MyAnalysis = { untracked int32 limit = -1}
				       untracked bool noTimeStamps = true
				       untracked bool noLineBreaks = true
      }


      untracked PSet maxEvents = { untracked int32 input = 10 }

      source = PoolSource 
      { 
         
	   untracked vstring fileNames = {

           "/pnfs/physik.rwth-aachen.de/dcms/biallass/recoLM5_100Events.root"
	   #"/store/mc/2007/7/31/CSA07-DrellYan_mumu_40-2099/0001/5C17BCF8-EF40-DC11-8387-001617C3B69C.root"
           #"/store/mc/2007/10/1/HLT-MCatNLO_WMinusEnu-1191268515/0006/0E219873-C675-DC11-B7AD-003048767EF5.root"
           #"/store/RelVal/2007/9/3/RelVal-RelValQCD_Pt_80_120-1188839688/0002/5A3FBB70-665A-DC11-93B7-0016177CA7A0.root"
           #"file:/opt/scratch/recoLM5_100Events.root"

           }      
      }

      #Electron ID
      include "EgammaAnalysis/ElectronIDProducers/data/electronId.cfi"
      replace electronId.electronQuality = "medium" #options are loose, medium or tight
      path eleID = {electronId}

      #Electron Isolation
      include "EgammaAnalysis/EgammaIsolationProducers/data/egammaEcalIsolationSequence.cff"

      #not in AOD #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaHcalIsolation.cfi"
      #not in AOD #replace egammaHcalIsolation.intRadius = 0.
      #not in AOD #replace egammaHcalIsolation.extRadius = 0.3
      include "EgammaAnalysis/EgammaIsolationProducers/data/egammaTowerIsolation.cfi"
      replace egammaTowerIsolation.intRadius = 0.
      replace egammaTowerIsolation.extRadius = 0.3
      include "EgammaAnalysis/EgammaIsolationProducers/data/egammaEcalIsolation.cfi"
      replace egammaEcalIsolation.extRadius = 0.3
      include "EgammaAnalysis/EgammaIsolationProducers/data/egammaElectronTkIsolation.cfi"
      replace egammaElectronTkIsolation.intRadius = 0.05
      replace egammaElectronTkIsolation.extRadius = 0.3
      include "EgammaAnalysis/EgammaIsolationProducers/data/egammaElectronTkNumIsolation.cfi"
      replace egammaElectronTkNumIsolation.intRadius = 0.05
      replace egammaElectronTkNumIsolation.extRadius = 0.3
      path eleIso = {egammaTowerIsolation, egammaEcalIsolationSequence, egammaElectronTkIsolation, egammaElectronTkNumIsolation}


      #Photon Isolation
      include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaEcalIsolationSequence.cff"

      #not in AOD #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaHcalIsolation.cfi"
      #not in AOD #replace gammaHcalIsolation.intRadius = 0.
      #not in AOD # replace gammaHcalIsolation.extRadius = 0.3
      include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaTowerIsolation.cfi"
      replace gammaTowerIsolation.intRadius = 0.
      replace gammaTowerIsolation.extRadius = 0.3
      include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaEcalIsolation.cfi"
      replace gammaEcalIsolation.extRadius = 0.3
      include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaPhotonTkIsolation.cfi"
      replace gammaPhotonTkIsolation.intRadius = 0.05
      replace gammaPhotonTkIsolation.extRadius = 0.3
      include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaPhotonTkNumIsolation.cfi"
      replace gammaPhotonTkNumIsolation.intRadius = 0.05
      replace gammaPhotonTkNumIsolation.extRadius = 0.3
      path gammaIso = {gammaTowerIsolation, gammaEcalIsolationSequence, gammaPhotonTkIsolation, gammaPhotonTkNumIsolation}

      
      #Pi0 Discrimination
      # geometry needed for clustering
      include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"
      # ES cluster for pi0 discrimination variables
      include "RecoEcal/EgammaClusterProducers/data/preshowerClusterShape.cfi"
      # pi0 discrimination variables
      include "RecoEcal/EgammaClusterProducers/data/piZeroDiscriminators.cfi"
      # create path with all clustering algos
      path pi0dis = {preshowerClusterShape, piZeroDiscriminators}


      #JES-correction
      include "JetMETCorrections/MCJet/data/MCJetCorrections152.cff"
      es_prefer MCJetCorrectorMcone5 = MCJetCorrectionService {}
      path correct_jets = { MCJetCorJetMcone5, MCJetCorJetIcone5, MCJetCorJetMcone7}

      #MET-correction
      include "JetMETCorrections/Type1MET/data/MetType1Corrections.cff"
      path correct_met = {corMetType1Icone5, corMetType1Mcone5, corMetType1Mcone7}

     
      module ePaxAnalysis = ePaxAnalyzer {
         # label of file:
         untracked string FileName = "CMSSW_164_test.pxlio"
         # Debugging: 0 = off, 1 = human readable, 2 = insane
         untracked int32 debug = 0 
         untracked string Process = "LM5"
         # GenOnly true mean no Rec-info in event, check for GenJets and GenMET
         untracked bool GenOnly = false
         #labels of source
         untracked string TruthVertexLabel = "trackingParticles"
         untracked string genParticleCandidatesLabel = "genParticleCandidates"
         untracked string KtJetMCLabel = "fastjet10GenJetsNoNuBSM"
         untracked string ItCone5JetMCLabel = "iterativeCone5GenJetsNoNuBSM"
         untracked string MidCone5JetMCLabel = "midPointCone5GenJetsNoNuBSM"
         untracked string MidCone7JetMCLabel = "midPointCone7GenJetsNoNuBSM"
         untracked string METMCLabel = "genMetNoNuBSM"  #here muon included thus no muon-correction needed
         #untracked string METMCLabel = "genMet"  
         untracked string VertexRecoLabel = "offlinePrimaryVerticesFromCTFTracks"
         untracked string SAMuonRecoLabel = "standAloneMuons"
         untracked string MuonRecoLabel = "muons"
         untracked string ElectronRecoLabel = "siStripElectronToTrackAssociator"
         untracked string PixelMatchElectronRecoLabel = "pixelMatchGsfElectrons"
         string ElectronIDAssocProducer = "electronId" #this one is TRACKED!
         string ElectronHcalIsolationProducer = "egammaTowerIsolation" #this one is TRACKED!
         string ElectronEcalIsolationProducer = "egammaEcalIsolation" #this one is TRACKED!
         string ElectronTrackIsolationProducer = "egammaElectronTkIsolation" #this one is TRACKED!
         string ElectronTrackNumProducer = "egammaElectronTkNumIsolation" #this one is TRACKED!
         untracked string GammaRecoLabel = "correctedPhotons"
         string GammaHcalIsolationProducer = "gammaTowerIsolation" #this one is TRACKED!
         string GammaEcalIsolationProducer = "gammaEcalIsolation" #this one is TRACKED!
         string GammaTrackIsolationProducer = "gammaPhotonTkIsolation" #this one is TRACKED!
         string GammaTrackNumProducer = "gammaPhotonTkNumIsolation" #this one is TRACKED!
         untracked string KtJetRecoLabel = "fastjet10CaloJets"
         untracked string ItCone5JetRecoLabel = "MCJetCorJetIcone5"
         #untracked string MidCone5JetRecoLabel = "midPointCone5CaloJets"
         untracked string MidCone5JetRecoLabel = "MCJetCorJetMcone5"
         untracked string MidCone7JetRecoLabel = "MCJetCorJetMcone7"
         untracked string METRecoLabel = "met"
         untracked string METCorrRecoLabel = "corMetType1Mcone5" #save corrected MET as well
         InputTag barrelClusterShapeAssociation = hybridSuperClusters:hybridShapeAssoc
         InputTag endcapClusterShapeAssociation = islandBasicClusters:islandEndcapShapeAssoc
         untracked string fHBHELabel = "hbhereco"
         untracked string fHBHEInstanceName = ""
      }

      path analysis = {ePaxAnalysis} 

      #schedule = {correct_jets, correct_met, eleID, analysis} 
      schedule = {correct_jets, correct_met, eleID, eleIso, gammaIso, pi0dis, analysis} #correct_jets needs to be in schedule, not in path!!!
    
}
