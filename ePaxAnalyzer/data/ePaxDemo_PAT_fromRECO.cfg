



process PAT = {


  ### General ###

      #keep the logging output to a nice level
      include "FWCore/MessageLogger/data/MessageLogger.cfi"
      # XML ideal geometry description
      include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
      # Calo geometry service model
      include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
      # Calo topology service model
      include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
      
      # write my own debug output into default.log
      replace MessageLogger.destinations = {
				       "warnings"
				       ,"errors"
				       ,"infos"
				       ,"cout"
				       ,"cerr"
				       ,"default"
				       }
      replace MessageLogger.categories   = { "MyAnalysis", "FwkJob", "FwkReport", "Root_NoDictionary" } 
      replace MessageLogger.debugModules   = { "demo" }
      replace MessageLogger.default = 
      {
                                       untracked string threshold = "DEBUG"
                                       untracked PSet INFO            = { untracked int32 limit = 0 }
                                       untracked PSet DEBUG           = { untracked int32 limit = 0 }
			               untracked PSet MyAnalysis = { untracked int32 limit = -1}
				       untracked bool noTimeStamps = true
				       untracked bool noLineBreaks = true				       
      }


#service = MessageLoggger 
#  {
#  untracked vstring destinations    = { "messages.txt" }
#  untracked vstring debugModules    = { "*" }
#  untracked PSet messages           = { untracked string threshold = "DEBUG" }
#  untracked vstring suppressDebug   = { "wordyModule" }
#  untracked vstring suppressInfo    = { "verboseModule", "otherModule" }
#  untracked vstring suppressWarning = { "cryWolfModule" }
#  
#  } 


  ### Input ###

  untracked PSet maxEvents = { untracked int32 input = 30 }

  source = PoolSource { untracked vstring fileNames = { 
"file:///home/home1/institut_3a/staschmitz/cms/CMSSW_2_0_11/src/test/test_PAT_SUSY.root"
#'file:/afs/cern.ch/cms/PRS/top/cmssw-data/relval200-for-pat-testing/RelValTTbar-200p7-AODSIM.100.root' 
#'/store/mc/CSA08/Zmumu/GEN-SIM-RECO/CSA08_S156_v1/0002/0A59D9FF-A92B-DD11-8611-001A6434F19C.root'
} }


  ### PAT steering ###

  include "PhysicsTools/PatAlgos/data/patLayer0.cff"
#include "PhysicsTools/PatAlgos/test/patLayer0_ReplaceDefaults_full.cff"
  include "PhysicsTools/PatAlgos/data/patLayer1.cff"
#include "PhysicsTools/PatAlgos/test/patLayer1_ReplaceDefaults_full.cff"


  module content = EventContentAnalyzer {}
  path p = {
    patLayer0,
    #content,
    patLayer1
  }



  #Stefan's additions

  #replace allLayer1Muons.addTrigMatch     = false
  #replace allLayer1Muons.embedStandAloneMuon = true
  #replace allLayer1Muons.embedCombinedMuon = true

  #replace allLayer1Electrons.addElectronID = true
  #replace allLayer1Electrons.embedGsfTrack = true
  #replace allLayer1Electrons.embedTrack = true
  #replace allLayer1Electrons.addElectronIDRobust = true





  

  # only accept events passing the complete path
  block patEventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  


module ePaxAnalysis = ePaxAnalyzer {
         # label of file:
         untracked string FileName = "test_PAT.pxlio"
         # Debugging: 0 = off, 1 = human readable, 2 = insane
         untracked int32 debug = 1
         untracked string Process = "test_PAT"
         # GenOnly true mean no Rec-info in event, check for GenJets and GenMET
         #untracked bool GenOnly = false
         #labels of source
         untracked string TruthVertexLabel = "trackingParticles"
         untracked string genParticleCandidatesLabel = "genParticles"
         #untracked string KtJetMCLabel = "fastjet6GenJetsNoNuBSM"
         untracked string ItCone5JetMCLabel = "iterativeCone5GenJets"
         untracked string METMCLabel = "genMetNoNuBSM"  #here muon included thus no muon-correction needed
         #untracked string METMCLabel = "genMet"  
         untracked string VertexRecoLabel = "offlinePrimaryVerticesFromCTFTracks"
         #untracked string SAMuonRecoLabel = "standAloneMuons"
	 # name of MuonCollection has changed!
         untracked string MuonRecoLabel = "selectedLayer1Muons"
         untracked string ElectronRecoLabel = "selectedLayer1Electrons"
         #untracked string PixelMatchElectronRecoLabel = "pixelMatchGsfElectrons"
         #string ElectronIDAssocProducer = "electronId" #this one is TRACKED!
         #string ElectronHcalIsolationProducer = "egammaTowerIsolation" #this one is TRACKED!
         #string ElectronEcalIsolationProducer = "egammaEcalIsolation" #this one is TRACKED!
         #string ElectronTrackIsolationProducer = "egammaElectronTkIsolation" #this one is TRACKED!
         #string ElectronTrackNumProducer = "egammaElectronTkNumIsolation" #this one is TRACKED!
         untracked string GammaRecoLabel = "selectedLayer1Photons"
         #string GammaHcalIsolationProducer = "gammaTowerIsolation" #this one is TRACKED!
         #string GammaEcalIsolationProducer = "gammaEcalIsolation" #this one is TRACKED!
         #string GammaTrackIsolationProducer = "gammaPhotonTkIsolation" #this one is TRACKED!
         #string GammaTrackNumProducer = "gammaPhotonTkNumIsolation" #this one is TRACKED!
         #untracked string KtJetRecoLabel = "MCJetCorJetfastjet6"
         untracked string ItCone5JetRecoLabel = "selectedLayer1Jets"
         #untracked string L2L3JESic5JetRecoLabel = "L3JetCorJetIcone5"
	 #"allLayer1METs" are apparently not written to root file!
         untracked string METRecoLabel = "selectedLayer1METs"
         #untracked string METCorrRecoLabel = "corMetGlobalMuons" #save corrected MET as well
         InputTag barrelClusterShapeAssociation = hybridSuperClusters:hybridShapeAssoc
         InputTag endcapClusterShapeAssociation = islandBasicClusters:islandEndcapShapeAssoc
         #untracked string fHBHELabel = "hbhereco"
         #untracked string fHBHEInstanceName = ""
      }


      path analysis = {ePaxAnalysis} 

  


}
