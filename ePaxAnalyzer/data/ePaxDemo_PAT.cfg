process Analysis  =  {
      #keep the logging output to a nice level
      include "FWCore/MessageLogger/data/MessageLogger.cfi"
      # XML ideal geometry description
      include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
      # Calo geometry service model
      include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
      # Calo topology service model
      include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
      
      # write my own debug output into default.log
      replace MessageLogger.destinations = {
					"warnings"
				       ,"errors"
				       ,"infos"
				       ,"cout"
				       ,"cerr"
				       ,"default"
				       }
      replace MessageLogger.categories   = { "MyAnalysis", "FwkJob", "FwkReport", "Root_NoDictionary" } 
      replace MessageLogger.debugModules   = { "demo" }
      replace MessageLogger.default = 
      {
                                       untracked string threshold = "DEBUG"
                                       untracked PSet INFO            = { untracked int32 limit = 0 }
                                       untracked PSet DEBUG           = { untracked int32 limit = 0 }
			               untracked PSet MyAnalysis = { untracked int32 limit = -1}
				       untracked bool noTimeStamps = true
				       untracked bool noLineBreaks = true
      }



      source = PoolSource 
      { 

	   untracked vstring fileNames = {
	 #"file:///home/home1/institut_3a/bender/public/PATLayer1_Output.fromAOD_full.root"
	"file:///home/home1/institut_3a/staschmitz/cms/cmstemp/CMSSW_2_0_7/src/PhysicsTools/PatAlgos/test/My_PATLayer1_Output.fromAOD_full_2.root"
          }  
      }


      #Electron ID
      #is probably no longer of any use for PAT layer1
      #include "EgammaAnalysis/ElectronIDProducers/data/electronId.cfi"
      #include "EgammaAnalysis/ElectronIDProducers/data/electronIdCutBased.cfi"
      #include "EgammaAnalysis/ElectronIDProducers/data/electronIdNeuralNet.cfi"
      #include "EgammaAnalysis/ElectronIDProducers/data/electronIdLikelihood.cfi"	
      #replace electronId.doPtdrId = false
      #replace electronId.doCutBased = true  #use new cut based selection
     


      #sequence eIdSequence = {electronId & eidCutBased}
      #path eleID = {eIdSequence}
	
      #hoffentlich ok (werden alle Elektronen genommen, die man will?)



      #Electron Isolation
      #Electron Isolation seems to be already available for the pat::electron , so probably this step can be skipped 	
      #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaEcalIsolationSequence.cff"

      #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaTowerIsolation.cfi"
      #replace egammaTowerIsolation.intRadius = 0.1
      #replace egammaTowerIsolation.extRadius = 0.3
      #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaEcalIsolation.cfi"
      #replace egammaEcalIsolation.extRadius = 0.3
      #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaElectronTkIsolation.cfi"
      #replace egammaElectronTkIsolation.intRadius = 0.015
      #replace egammaElectronTkIsolation.extRadius = 0.3
      #include "EgammaAnalysis/EgammaIsolationProducers/data/egammaElectronTkNumIsolation.cfi"
      #replace egammaElectronTkNumIsolation.intRadius = 0.015
      #replace egammaElectronTkNumIsolation.extRadius = 0.3
      #path eleIso = {egammaTowerIsolation, egammaEcalIsolationSequence, egammaElectronTkIsolation, 		
      #egammaElectronTkNumIsolation}








      #Photon Isolation
      #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaEcalIsolationSequence.cff"

      #not in AOD #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaHcalIsolation.cfi"
      #not in AOD #replace gammaHcalIsolation.intRadius = 0.1
      #not in AOD # replace gammaHcalIsolation.extRadius = 0.3
      #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaTowerIsolation.cfi"
      #replace gammaTowerIsolation.intRadius = 0.1
      #replace gammaTowerIsolation.extRadius = 0.3
      #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaEcalIsolation.cfi"
      #replace gammaEcalIsolation.extRadius = 0.3
      #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaPhotonTkIsolation.cfi"
      #replace gammaPhotonTkIsolation.intRadius = 0.
      #replace gammaPhotonTkIsolation.extRadius = 0.3
      #include "ePaxDemo/ePaxAnalyzer/data/PhotonIsolation/gammaPhotonTkNumIsolation.cfi"
      #replace gammaPhotonTkNumIsolation.intRadius = 0.
      #replace gammaPhotonTkNumIsolation.extRadius = 0.3
      #path gammaIso = {gammaTowerIsolation, gammaEcalIsolationSequence, gammaPhotonTkIsolation, gammaPhotonTkNumIsolation}

      
      #Pi0 Discrimination
      # geometry needed for clustering
      #include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"
      # ES cluster for pi0 discrimination variables
      #include "RecoEcal/EgammaClusterProducers/data/preshowerClusterShape.cfi"
      #replace preshowerClusterShape.debugLevel = "INFO"
      # pi0 discrimination variables
      #include "RecoEcal/EgammaClusterProducers/data/piZeroDiscriminators.cfi"
      #replace piZeroDiscriminators.debugLevel = "INFO"
      # create path with all clustering algos
      #path pi0dis = {preshowerClusterShape, piZeroDiscriminators}


      #JES-correction
      #include "JetMETCorrections/MCJet/data/MCJetCorrections152.cff"
      #es_prefer MCJetCorrectorMcone5 = MCJetCorrectionService {}
      #path correct_jets = { MCJetCorJetIcone5, MCJetCorJetfastjet6}

      #new L2/L3 JES-correction
      #es_source L2JetCorrectorIcone5 = L2RelativeCorrectionService {
      #      string tagName = 'CMSSW_152_L2Relative_iterativeCone5'
      #      string label = 'L2RelativeJetCorrectorIcone5'
      #}

      #es_source L3JetCorrectorIcone5 = L3AbsoluteCorrectionService {
      #      string tagName = 'CMSSW_152_L3Absolute_iterativeCone5'
      #      string label = 'L3AbsoluteJetCorrectorIcone5'
      #}
      # Pick MCJetCorrectionService to set record's IOV
      #es_prefer L2JetCorrectorIcone5 = L2RelativeCorrectionService {}

      #module L2JetCorJetIcone5 = JetCorrectionProducer {
      #    InputTag src   = iterativeCone5CaloJets
      #    vstring correctors = {"L2RelativeJetCorrectorIcone5"}
      #    untracked string alias = "L2JetCorJetIcone5"
      #}

      #module L3JetCorJetIcone5 = JetCorrectionProducer {
      #    InputTag src   = L2JetCorJetIcone5
      #    vstring correctors = {"L3AbsoluteJetCorrectorIcone5"}
      #    untracked string alias = "L3JetCorJetIcone5"
      #}

      #path L2L3JES = {L2JetCorJetIcone5, L3JetCorJetIcone5}

      #MET-correction
      #include "JetMETCorrections/Type1MET/data/MetType1Corrections.cff"
      #include "JetMETCorrections/Type1MET/data/MetMuonCorrections.cff"
      #replace corMetGlobalMuons.inputUncorMetLabel = "corMetType1Icone5"
      #replace corMetGlobalMuons.TrackAssociatorParameters.useEcal    = false  #not in AOD
      #replace corMetGlobalMuons.TrackAssociatorParameters.useHcal    = false  #not in AOD
      #replace corMetGlobalMuons.TrackAssociatorParameters.useHO      = false  #not in AOD
      #replace corMetGlobalMuons.TrackAssociatorParameters.useMuon    = false  #not in AOD
      #path correct_met = {corMetType1Icone5, corMetGlobalMuons}
      #replace corMetGlobalMuons.inputUncorMetLabel = "L3JetCorJetIcone5"
      #path correct_met = {corMetType1Icone5L2L3, corMetGlobalMuons}

     
      module ePaxAnalysis = ePaxAnalyzer {
         # label of file:
         untracked string FileName = "test_PAT.pxlio"
         # Debugging: 0 = off, 1 = human readable, 2 = insane
         untracked int32 debug = 1
         untracked string Process = "test_PAT"
         # GenOnly true mean no Rec-info in event, check for GenJets and GenMET
         #untracked bool GenOnly = false
         #labels of source
         #untracked string TruthVertexLabel = "trackingParticles"
         #untracked string genParticleCandidatesLabel = "genParticleCandidates"
         #untracked string KtJetMCLabel = "fastjet6GenJetsNoNuBSM"
         #untracked string ItCone5JetMCLabel = "iterativeCone5GenJetsNoNuBSM"
         #untracked string METMCLabel = "genMetNoNuBSM"  #here muon included thus no muon-correction needed
         #untracked string METMCLabel = "genMet"  
         untracked string VertexRecoLabel = "offlinePrimaryVerticesFromCTFTracks"
         #untracked string SAMuonRecoLabel = "standAloneMuons"
	 # name of MuonCollection has changed!
         untracked string MuonRecoLabel = "selectedLayer1Muons"
         untracked string ElectronRecoLabel = "selectedLayer1Electrons"
         #untracked string PixelMatchElectronRecoLabel = "pixelMatchGsfElectrons"
         #string ElectronIDAssocProducer = "electronId" #this one is TRACKED!
         #string ElectronHcalIsolationProducer = "egammaTowerIsolation" #this one is TRACKED!
         #string ElectronEcalIsolationProducer = "egammaEcalIsolation" #this one is TRACKED!
         #string ElectronTrackIsolationProducer = "egammaElectronTkIsolation" #this one is TRACKED!
         #string ElectronTrackNumProducer = "egammaElectronTkNumIsolation" #this one is TRACKED!
         untracked string GammaRecoLabel = "selectedLayer1Photons"
         #string GammaHcalIsolationProducer = "gammaTowerIsolation" #this one is TRACKED!
         #string GammaEcalIsolationProducer = "gammaEcalIsolation" #this one is TRACKED!
         #string GammaTrackIsolationProducer = "gammaPhotonTkIsolation" #this one is TRACKED!
         #string GammaTrackNumProducer = "gammaPhotonTkNumIsolation" #this one is TRACKED!
         #untracked string KtJetRecoLabel = "MCJetCorJetfastjet6"
         #untracked string ItCone5JetRecoLabel = "MCJetCorJetIcone5"
         #untracked string L2L3JESic5JetRecoLabel = "L3JetCorJetIcone5"
         #untracked string METRecoLabel = "met"
         #untracked string METCorrRecoLabel = "corMetGlobalMuons" #save corrected MET as well
         #InputTag barrelClusterShapeAssociation = hybridSuperClusters:hybridShapeAssoc
         #InputTag endcapClusterShapeAssociation = islandBasicClusters:islandEndcapShapeAssoc
         #untracked string fHBHELabel = "hbhereco"
         #untracked string fHBHEInstanceName = ""
      }


      path analysis = {ePaxAnalysis} 

     
      schedule = {analysis} 
      #correct_jets needs to be in schedule, not in path!!!
      #adapt to current status in each iteration for PAT
    
}
